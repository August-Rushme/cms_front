(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40de6b65"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"404f":function(e,t,o){"use strict";o.r(t);var a=o("7a23"),n={class:"goods"},r=Object(a["createTextVNode"])(" 添加商品 "),c={class:"pagination"},l=Object(a["createElementVNode"])("i",{class:"el-icon-upload"},null,-1),d=Object(a["createElementVNode"])("div",{class:"el-upload__text"},[Object(a["createTextVNode"])("将文件拖到此处，或"),Object(a["createElementVNode"])("em",null,"点击上传")],-1),u=Object(a["createElementVNode"])("div",{class:"el-upload__tip"},"只能上传 jpg/png 文件，且不超过 500kb",-1),i={class:"dialog-footer"},s=Object(a["createTextVNode"])("取 消"),m=Object(a["createTextVNode"])("确 定"),p=Object(a["createElementVNode"])("i",{class:"el-icon-upload"},null,-1),f=Object(a["createElementVNode"])("div",{class:"el-upload__text"},[Object(a["createTextVNode"])("将文件拖到此处，或"),Object(a["createElementVNode"])("em",null,"点击上传")],-1),b=Object(a["createElementVNode"])("div",{class:"el-upload__tip"},"只能上传 jpg/png 文件，且不超过 500kb",-1),g={class:"dialog-footer"},j=Object(a["createTextVNode"])("取 消"),O=Object(a["createTextVNode"])("确 定");function h(e,t,o,h,V,N){var C=Object(a["resolveComponent"])("page-search"),v=Object(a["resolveComponent"])("el-button"),w=Object(a["resolveComponent"])("page-content"),x=Object(a["resolveComponent"])("el-pagination"),y=Object(a["resolveComponent"])("el-card"),D=Object(a["resolveComponent"])("el-input"),_=Object(a["resolveComponent"])("el-form-item"),I=Object(a["resolveComponent"])("el-upload"),k=Object(a["resolveComponent"])("el-form"),E=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(C,{pageName:"good"}),Object(a["createVNode"])(w,{contentTableConfig:e.contentTableConfig,pageName:"good",onEditBtnClick:e.handleEditData,onDeleteBtnClick:e.handleDeleteData},{handlerHeader:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{type:"primary",size:"small",class:"el-icon-plus",onClick:e.showDialog},{default:Object(a["withCtx"])((function(){return[r]})),_:1},8,["onClick"])]})),_:1},8,["contentTableConfig","onEditBtnClick","onDeleteBtnClick"]),Object(a["createElementVNode"])("div",c,[Object(a["createVNode"])(x,{onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.pageInfo.pageNum,"page-sizes":[6,8,10,12],"page-size":e.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]})),_:1}),Object(a["createVNode"])(E,{title:"编辑",modelValue:e.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.dialogVisible=t}),width:"35%"},{footer:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("span",i,[Object(a["createVNode"])(v,{onClick:t[5]||(t[5]=function(t){return e.dialogVisible=!1})},{default:Object(a["withCtx"])((function(){return[s]})),_:1}),Object(a["createVNode"])(v,{type:"primary",onClick:e.editConfirmHandle},{default:Object(a["withCtx"])((function(){return[m]})),_:1},8,["onClick"])])]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(k,{"label-width":"100px",model:e.formData},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{label:"商品名称"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsName,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.goodsName=t}),placeholder:"请输入角色名称"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品品牌"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsInfo,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.goodsInfo=t}),placeholder:"请输入商品品牌"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品库存"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsNumber,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.goodsNumber=t}),placeholder:"请输入商品库存"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品价格"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsPriceNew,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.goodsPriceNew=t}),placeholder:"请输入商品价格"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品类型"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.type,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.type=t}),placeholder:"请输入商品类型"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{align:"center"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(I,{class:"upload-demo",drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:"","on-change":e.handleChange},{tip:Object(a["withCtx"])((function(){return[u]})),default:Object(a["withCtx"])((function(){return[l,d]})),_:1},8,["on-change"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"]),Object(a["createVNode"])(E,{title:"添加商品",modelValue:e.dialogVisibleGoods,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.dialogVisibleGoods=t}),width:"35%",onOpen:e.clearForm},{footer:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("span",g,[Object(a["createVNode"])(v,{onClick:t[12]||(t[12]=function(t){return e.dialogVisibleGoods=!1})},{default:Object(a["withCtx"])((function(){return[j]})),_:1}),Object(a["createVNode"])(v,{type:"primary",onClick:e.addGoodsConfirmHandle},{default:Object(a["withCtx"])((function(){return[O]})),_:1},8,["onClick"])])]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(k,{"label-width":"100px",model:e.formData},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{label:"商品名称"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsName,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formData.goodsName=t}),placeholder:"请输入角色名称"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品品牌"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsInfo,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formData.goodsInfo=t}),placeholder:"请输入商品品牌"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品库存"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsNumber,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.formData.goodsNumber=t}),placeholder:"请输入商品库存"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品价格"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.goodsPriceNew,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.formData.goodsPriceNew=t}),placeholder:"请输入商品价格"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{label:"商品类型"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(D,{modelValue:e.formData.type,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.formData.type=t}),placeholder:"请输入商品类型"},null,8,["modelValue"])]})),_:1}),Object(a["createVNode"])(_,{align:"center"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(I,{class:"upload-demo",drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:"","on-change":e.handleChange},{tip:Object(a["withCtx"])((function(){return[b]})),default:Object(a["withCtx"])((function(){return[p,f]})),_:1},8,["on-change"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue","onOpen"])])}var V=o("82a0"),N=o.n(V),C=o("1da1"),v=o("7e07"),w=o.n(v),x=(o("96cf"),o("fe8c")),y={title:"商品分类",propList:[{prop:"goodsName",label:"商品名称",minWidth:"120"},{prop:"goodsImg",label:"商品图片",minWidth:"120",slotName:"picture"},{prop:"goodsInfo",label:"品牌",minWidth:"100"},{prop:"goodsNumber",label:"库存",minWidth:"100"},{prop:"goodsPriceNew",label:"商品价格",minWidth:"100"},{prop:"type",label:"类型",minWidth:"60"},{label:"操作",minWidth:"120",slotName:"handler"}]},D=o("3573"),_=o("0613"),I=Object(a["defineComponent"])({components:{PageSearch:x["a"],PageContent:D["a"]},setup:function(){var e=Object(_["c"])(),t="good",o=Object(a["ref"])(!1),n=Object(a["ref"])({goodsId:"",goodsName:"",goodsSrc:"",goodsInfo:"",goodsNumber:"",goodsPriceNew:"",type:"",goodsImg:""}),r=function(e){o.value=!0,n.value.goodsId=e.goodsId,n.value.goodsName=e.goodsName,n.value.goodsSrc=e.goodsSrc,n.value.goodsInfo=e.goodsInfo,n.value.goodsNumber=e.goodsNumber,n.value.goodsPriceNew=e.goodsPriceNew,n.value.type=e.type},c=function(e){var t=new FileReader;t.readAsDataURL(e.raw),t.onload=function(){n.value.goodsImg=t.result}},l=function(){o.value=!1,e.dispatch("system/editPageDataAction",{formData:n,pageName:t})},d=function(o){var a=o.goodsId;w.a.confirm("此操作将永久删除该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(C["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.dispatch("system/deleteDataAction",{id:a,pageName:t,pageInfo:p});case 2:if(n=o.sent,n.success){o.next=5;break}return o.abrupt("return",N()({type:"error",message:n.message}));case 5:N()({type:"success",message:"删除成功!"});case 6:case"end":return o.stop()}}),o)})))).catch((function(){N()({type:"info",message:"已取消删除"})}))},u=Object(a["ref"])(!1),i=function(){n.value.goodsId="",n.value.goodsName="",n.value.goodsSrc="",n.value.goodsInfo="",n.value.goodsNumber="",n.value.goodsPriceNew="",n.value.type=""},s=function(){u.value=!0},m=function(){var o=Object(C["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return u.value=!1,o.next=3,e.dispatch("system/addAction",{formData:n,pageName:t});case 3:if(a=o.sent,a.success){o.next=6;break}return o.abrupt("return",N()({showClose:!0,message:"添加失败",type:"error"}));case 6:N()({showClose:!0,message:"添加成功",type:"success"});case 7:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),p=Object(a["ref"])({pageNum:1,pageSize:6}),f=p.value,b=Object(a["computed"])((function(){return e.getters["system/pageListCount"](t)})),g=function(o){p.value.pageSize=o,e.dispatch("system/getPageListAction",{pageName:t,queryInfo:f})},j=function(o){p.value.pageNum=o,e.dispatch("system/getPageListAction",{pageName:t,queryInfo:f})};return{contentTableConfig:y,handleEditData:r,handleDeleteData:d,dialogVisible:o,formData:n,editConfirmHandle:l,handleChange:c,showDialog:s,dialogVisibleGoods:u,clearForm:i,addGoodsConfirmHandle:m,total:b,handleSizeChange:g,handleCurrentChange:j,pageInfo:p}}}),k=o("6b0d"),E=o.n(k);const P=E()(I,[["render",h]]);t["default"]=P},"841c":function(e,t,o){"use strict";var a=o("d784"),n=o("825a"),r=o("1d80"),c=o("129f"),l=o("577e"),d=o("dc4a"),u=o("14c3");a("search",(function(e,t,o){return[function(t){var o=r(this),a=void 0==t?void 0:d(t,e);return a?a.call(t,o):new RegExp(t)[e](l(o))},function(e){var a=n(this),r=l(e),d=o(t,a,r);if(d.done)return d.value;var i=a.lastIndex;c(i,0)||(a.lastIndex=0);var s=u(a,r);return c(a.lastIndex,i)||(a.lastIndex=i),null===s?-1:s.index}]}))},fe8c:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));o("ac1f"),o("841c");var a=o("7a23"),n={class:"page-search"},r=Object(a["createTextVNode"])("搜索");function c(e,t,o,c,l,d){var u=Object(a["resolveComponent"])("el-input"),i=Object(a["resolveComponent"])("el-col"),s=Object(a["resolveComponent"])("el-button"),m=Object(a["resolveComponent"])("el-row");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{span:6},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{placeholder:"请输入内容",modelValue:e.queryInfo.query,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.queryInfo.query=t}),clearable:"",onClear:e.handleClear},null,8,["modelValue","onClear"])]})),_:1}),Object(a["createVNode"])(i,{span:2},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{type:"primary",icon:"el-icon-search",onClick:e.search},{default:Object(a["withCtx"])((function(){return[r]})),_:1},8,["onClick"])]})),_:1})]})),_:1})])}var l=o("0613"),d=Object(a["defineComponent"])({props:{pageName:{type:String,required:!0}},setup:function(e){var t=Object(a["ref"])({query:"",pageNum:1,pageSize:6,pageName:e.pageName}),o=t.value.pageName,n=Object(l["c"])(),r=function(){n.dispatch("system/searchPageDataAction",{queryInfo:t})},c=function(){return n.dispatch("system/getPageListAction",{pageName:o,queryInfo:{pageNum:1,pageSize:6}})};return{queryInfo:t,search:r,handleClear:c}}}),u=o("6b0d"),i=o.n(u);const s=i()(d,[["render",c]]);var m=s}}]);
//# sourceMappingURL=chunk-40de6b65.e7782195.js.map